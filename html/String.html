<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class String - Marked Conductor</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search (/) for a class, method, ..." spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
<div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  <p class="link"><a href="Object.html">Object</a>
</div>

    
    
    
<!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    <li ><a href="#method-i-add_comment">#add_comment</a>
    <li ><a href="#method-i-add_mmd">#add_mmd</a>
    <li ><a href="#method-i-add_yaml">#add_yaml</a>
    <li ><a href="#method-i-append">#append</a>
    <li ><a href="#method-i-autolink">#autolink</a>
    <li ><a href="#method-i-bool-3F">#bool?</a>
    <li ><a href="#method-i-bool_to_symbol">#bool_to_symbol</a>
    <li ><a href="#method-i-date-3F">#date?</a>
    <li ><a href="#method-i-delete_meta">#delete_meta</a>
    <li ><a href="#method-i-delete_mmd">#delete_mmd</a>
    <li ><a href="#method-i-delete_yaml">#delete_yaml</a>
    <li ><a href="#method-i-first_h1">#first_h1</a>
    <li ><a href="#method-i-first_h2">#first_h2</a>
    <li ><a href="#method-i-get_title">#get_title</a>
    <li ><a href="#method-i-has_comment-3F">#has_comment?</a>
    <li ><a href="#method-i-insert_css">#insert_css</a>
    <li ><a href="#method-i-insert_file">#insert_file</a>
    <li ><a href="#method-i-insert_script">#insert_script</a>
    <li ><a href="#method-i-insert_title">#insert_title</a>
    <li ><a href="#method-i-insert_toc">#insert_toc</a>
    <li ><a href="#method-i-meta-3F">#meta?</a>
    <li ><a href="#method-i-meta_insert_point">#meta_insert_point</a>
    <li ><a href="#method-i-meta_type">#meta_type</a>
    <li ><a href="#method-i-normalize_filter">#normalize_filter</a>
    <li ><a href="#method-i-normalize_include_type">#normalize_include_type</a>
    <li ><a href="#method-i-normalize_position">#normalize_position</a>
    <li ><a href="#method-i-number-3F">#number?</a>
    <li ><a href="#method-i-replace">#replace</a>
    <li ><a href="#method-i-replace_all">#replace_all</a>
    <li ><a href="#method-i-set_meta">#set_meta</a>
    <li ><a href="#method-i-strip_meta">#strip_meta</a>
    <li ><a href="#method-i-strip_time">#strip_time</a>
    <li ><a href="#method-i-time-3F">#time?</a>
    <li ><a href="#method-i-title_from_slug">#title_from_slug</a>
    <li ><a href="#method-i-titleize">#titleize</a>
    <li ><a href="#method-i-to_bool">#to_bool</a>
    <li ><a href="#method-i-to_bool-21">#to_bool!</a>
    <li ><a href="#method-i-to_date">#to_date</a>
    <li ><a href="#method-i-to_day">#to_day</a>
    <li ><a href="#method-i-to_pattern">#to_pattern</a>
    <li ><a href="#method-i-to_rx">#to_rx</a>
    <li ><a href="#method-i-wrap_style">#wrap_style</a>
    <li ><a href="#method-i-yaml-3F">#yaml?</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-String">
  <h1 id="class-String" class="class">
    class String
  </h1>

  <section class="description">
    
<p><a href="String.html"><code>String</code></a> helpers</p>

<p><a href="String.html"><code>String</code></a> helpers</p>

  </section>

  <section id="5Buntitled-5D" class="documentation-section">





     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-add_comment" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">add_comment</span><span
              class="method-args">(key, value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="add_comment-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 267</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">add_comment</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">has_comment?</span>(<span class="ruby-identifier">key</span>)
    <span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/ *#{key}: .*?$/</span>, <span class="ruby-node">&quot;#{key}: #{value}&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>)
    <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-identifier">meta_insert_point</span>, <span class="ruby-node">&quot;&lt;!--\n#{key}: #{value}\n--&gt;&quot;</span>)
    <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-add_mmd" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">add_mmd</span><span
              class="method-args">(key, value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="add_mmd-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 249</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">add_mmd</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">match</span>(<span class="ruby-regexp">/(\A|\n) *#{key}: *\S+/i</span>)
    <span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/^ *#{key}:.*?\n/i</span>, <span class="ruby-node">&quot;#{key}: #{value}\n&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>)
    <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-identifier">meta_insert_point</span>, <span class="ruby-node">&quot;#{key}: #{value}&quot;</span>)
    <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-add_yaml" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">add_yaml</span><span
              class="method-args">(key, value)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="add_yaml-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 231</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">add_yaml</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/^---.*?\n(---|\.\.\.)/m</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">m</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">last_match</span>
    <span class="ruby-identifier">yaml</span> = <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">m</span>[<span class="ruby-value">0</span>])
    <span class="ruby-identifier">yaml</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">value</span>
    <span class="ruby-node">&quot;#{YAML.dump(yaml)}\n---\n&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-append" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">append</span><span
              class="method-args">(string)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="append-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 153</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">append</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-node">&quot;#{self}\n#{string}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-autolink" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">autolink</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="autolink-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 304</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">autolink</span>
  <span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r{(?mi)(?&lt;!\(|]: )\b((?:[\w-]+?://)[-a-zA-Z0-9@:%._+~#=]{2,256}\b(?:[-a-zA-Z0-9@:%_+.~#?&amp;/=]*))}</span>,
       <span class="ruby-string">&#39;&lt;\1&gt;&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-bool-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">bool?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Test if a string is a boolean</p>

<p>@return     [Boolean] test result</p>

          <div class="method-source-code" id="bool-3F-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">bool?</span>
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&quot;utf-8&quot;</span>).<span class="ruby-identifier">match?</span>(<span class="ruby-regexp">/^(?:y(?:es)?|no?|t(?:rue)?|f(?:alse)?)$/</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-bool_to_symbol" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">bool_to_symbol</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Convert a string boolean to symbol</p>

<p>@return     [Symbol] symbolized version</p>

          <div class="method-source-code" id="bool_to_symbol-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 41</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">bool_to_symbol</span>
  <span class="ruby-keyword">case</span> <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/(NOT|!!)/</span>
    <span class="ruby-value">:not</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/(AND|&amp;&amp;)/</span>
    <span class="ruby-value">:and</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-value">:or</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-date-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">date?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Test a string to see if it’s a UTC date</p>

<p>@return     [Boolean] test result</p>

          <div class="method-source-code" id="date-3F-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 57</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">date?</span>
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&quot;utf-8&quot;</span>).<span class="ruby-identifier">match?</span>(<span class="ruby-regexp">/^\d{4}-\d{2}-\d{2}( \d\d:\d\d)?$/</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-delete_meta" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">delete_meta</span><span
              class="method-args">(key)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="delete_meta-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 277</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete_meta</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">meta_type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:yaml</span>
    <span class="ruby-identifier">delete_yaml</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-value">:mmd</span>
    <span class="ruby-identifier">delete_mmd</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-delete_mmd" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">delete_mmd</span><span
              class="method-args">(key)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="delete_mmd-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 259</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete_mmd</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/^ *#{key}:.*?\n/i</span>, <span class="ruby-string">&quot;&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-delete_yaml" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">delete_yaml</span><span
              class="method-args">(key)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="delete_yaml-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 240</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete_yaml</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/^---.*?\n(---|\.\.\.)/m</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">m</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">last_match</span>
    <span class="ruby-identifier">yaml</span> = <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">m</span>[<span class="ruby-value">0</span>])
    <span class="ruby-identifier">yaml</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>)
    <span class="ruby-node">&quot;#{YAML.dump(yaml)}\n---\n&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-first_h1" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">first_h1</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="first_h1-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 50</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">first_h1</span>
  <span class="ruby-identifier">first</span> = <span class="ruby-value">0</span>
  <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>).<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span>, <span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^(# *\S|={2,} *$)/</span>
      <span class="ruby-identifier">first</span> = <span class="ruby-identifier">idx</span>
      <span class="ruby-keyword">break</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-first_h2" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">first_h2</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="first_h2-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 61</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">first_h2</span>
  <span class="ruby-identifier">first</span> = <span class="ruby-value">0</span>
  <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>).<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span>, <span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^(## *\S|-{2,} *$)/</span>
      <span class="ruby-identifier">first</span> = <span class="ruby-identifier">idx</span>
      <span class="ruby-keyword">break</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-get_title" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">get_title</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="get_title-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 186</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get_title</span>
  <span class="ruby-identifier">title</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">meta_type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:yaml</span>
    <span class="ruby-identifier">m</span> = <span class="ruby-identifier">match</span>(<span class="ruby-regexp">/^---.*?\n(---|\.\.\.)/m</span>)
    <span class="ruby-identifier">yaml</span> = <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load</span>(<span class="ruby-identifier">m</span>[<span class="ruby-value">0</span>])
    <span class="ruby-identifier">title</span> = <span class="ruby-identifier">yaml</span>[<span class="ruby-string">&quot;title&quot;</span>]
  <span class="ruby-keyword">when</span> <span class="ruby-value">:mmd</span>
    <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^ *title: *(\S.*?)$/i</span>
        <span class="ruby-identifier">title</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">last_match</span>(<span class="ruby-value">1</span>)
        <span class="ruby-keyword">break</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">m</span> = <span class="ruby-identifier">match</span>(<span class="ruby-regexp">/title: (.*?)$/i</span>)
    <span class="ruby-identifier">title</span> = <span class="ruby-identifier">m</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">m</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">title</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">title_from_slug</span>.<span class="ruby-identifier">titleize</span>

  <span class="ruby-identifier">title</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-has_comment-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">has_comment?</span><span
              class="method-args">(key)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="has_comment-3F-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 263</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">has_comment?</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">match</span>(<span class="ruby-regexp">/^&lt;!--.*?#{key}: \S.*?--&gt;/m</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-insert_css" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">insert_css</span><span
              class="method-args">(path)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="insert_css-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 95</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">insert_css</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">path</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp">/(\.css)?$/</span>, <span class="ruby-string">&#39;.css&#39;</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r{^[~/]}</span>
    <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&quot;~/.config/conductor/css&quot;</span>))
    <span class="ruby-identifier">new_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-node">&quot;~/.config/conductor/css/#{path}&quot;</span>)
    <span class="ruby-identifier">path</span> = <span class="ruby-identifier">new_path</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">new_path</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&quot;~/.config/conductor/files&quot;</span>))
    <span class="ruby-identifier">new_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-node">&quot;~/.config/conductor/files/#{path}&quot;</span>)
    <span class="ruby-identifier">path</span> = <span class="ruby-identifier">new_path</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">new_path</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">content</span> = <span class="ruby-constant">IO</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">yui</span> = <span class="ruby-constant">YuiCompressor</span><span class="ruby-operator">::</span><span class="ruby-constant">Yui</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">content</span> = <span class="ruby-identifier">yui</span>.<span class="ruby-identifier">compress</span>(<span class="ruby-identifier">content</span>)
    <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>)
    <span class="ruby-identifier">insert_point</span> = <span class="ruby-identifier">meta_insert_point</span>
    <span class="ruby-identifier">insert_at</span> = <span class="ruby-identifier">insert_point</span>.<span class="ruby-identifier">positive?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">insert_point</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-identifier">insert_at</span>, <span class="ruby-node">&quot;#{content.wrap_style}\n\n&quot;</span>)
    <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;File not found (#{path})&quot;</span>
    <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-insert_file" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">insert_file</span><span
              class="method-args">(path, type = :file, position = :end)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="insert_file-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 123</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">insert_file</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">type</span> = <span class="ruby-value">:file</span>, <span class="ruby-identifier">position</span> = <span class="ruby-value">:end</span>)
  <span class="ruby-identifier">path</span>.<span class="ruby-identifier">strip!</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r{^[~/]}</span>
    <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&quot;~/.config/conductor/files&quot;</span>))
    <span class="ruby-identifier">new_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-node">&quot;~/.config/conductor/files/#{path}&quot;</span>)
    <span class="ruby-identifier">path</span> = <span class="ruby-identifier">new_path</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">new_path</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">out</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">type</span>
        <span class="ruby-keyword">when</span> <span class="ruby-value">:code</span>
          <span class="ruby-node">&quot;&lt;&lt;(#{path})&quot;</span>
        <span class="ruby-keyword">when</span> <span class="ruby-value">:raw</span>
          <span class="ruby-node">&quot;&lt;&lt;{#{path}}&quot;</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-node">&quot;&lt;&lt;[#{path}]&quot;</span>
        <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">out</span> = <span class="ruby-node">&quot;\n#{out}\n&quot;</span>

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">position</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:start</span>
    <span class="ruby-node">&quot;#{out}\n#{self}&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:h1</span>
    <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>).<span class="ruby-identifier">insert</span>(<span class="ruby-identifier">first_h1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>, <span class="ruby-identifier">out</span>).<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-node">&quot;#{self}\n#{out}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-insert_script" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">insert_script</span><span
              class="method-args">(path)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="insert_script-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 157</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">insert_script</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">path</span>.<span class="ruby-identifier">strip!</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-node">&quot;#{path}.js&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\.js$/</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r{^[~/]}</span>
    <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">new_path</span> = <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&quot;~/.config/conductor/javascript&quot;</span>))
                 <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-node">&quot;~/.config/conductor/javascript/#{path}&quot;</span>)
               <span class="ruby-keyword">elsif</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-string">&quot;~/.config/conductor/javascripts&quot;</span>))
                 <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-node">&quot;~/.config/conductor/javascripts/#{path}&quot;</span>)
               <span class="ruby-keyword">else</span>
                 <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-node">&quot;~/.config/conductor/scripts/#{path}&quot;</span>)
               <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">path</span> = <span class="ruby-identifier">new_path</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">new_path</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-node">%(#{self}\n&lt;script type=&quot;javascript&quot; src=&quot;#{path}&quot;&gt;&lt;/script&gt;\n)</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-insert_title" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">insert_title</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="insert_title-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 211</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">insert_title</span>
  <span class="ruby-identifier">title</span> = <span class="ruby-identifier">get_title</span>
  <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>)
  <span class="ruby-identifier">insert_point</span> = <span class="ruby-identifier">meta_insert_point</span>
  <span class="ruby-identifier">insert_at</span> = <span class="ruby-identifier">insert_point</span>.<span class="ruby-identifier">positive?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">insert_point</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
  <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-identifier">insert_at</span>, <span class="ruby-node">&quot;# #{title}\n&quot;</span>)
  <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-insert_toc" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">insert_toc</span><span
              class="method-args">(max = nil, after = :h1)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="insert_toc-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">insert_toc</span>(<span class="ruby-identifier">max</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">after</span> = <span class="ruby-value">:h1</span>)
  <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>)
  <span class="ruby-identifier">max</span> = <span class="ruby-identifier">max</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">max</span>.<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">positive?</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot; max#{max}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">line</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">after</span>.<span class="ruby-identifier">to_sym</span>
         <span class="ruby-keyword">when</span> <span class="ruby-value">:h2</span>
           <span class="ruby-identifier">first_h2</span>.<span class="ruby-identifier">positive?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">first_h2</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
         <span class="ruby-keyword">when</span> <span class="ruby-value">:h1</span>
           <span class="ruby-identifier">first_h1</span>.<span class="ruby-identifier">positive?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">first_h1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>
         <span class="ruby-keyword">else</span>
           <span class="ruby-value">0</span>
         <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">insert</span>(<span class="ruby-identifier">line</span>, <span class="ruby-node">&quot;\n&lt;!--toc#{max}--&gt;\n&quot;</span>).<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-meta-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">meta?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Test if a string starts with MMD metadata</p>

<p>@return     [Boolean] test result</p>

          <div class="method-source-code" id="meta-3F-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 126</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">meta?</span>
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&#39;utf-8&#39;</span>).<span class="ruby-identifier">match?</span>(<span class="ruby-regexp">/^\w+: +\S+/m</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-meta_insert_point" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">meta_insert_point</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="meta_insert_point-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 24</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">meta_insert_point</span>
  <span class="ruby-identifier">insert_point</span> = <span class="ruby-value">0</span>

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">meta_type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:yaml</span>
    <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>)
    <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">shift</span>
    <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span>, <span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^(...|---) *$/</span>

      <span class="ruby-identifier">insert_point</span> = <span class="ruby-identifier">idx</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
      <span class="ruby-keyword">break</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:mmd</span>
    <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>)
    <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span>, <span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^ *[ \w]+: +\S+/</span>

      <span class="ruby-identifier">insert_point</span> = <span class="ruby-identifier">idx</span>
      <span class="ruby-keyword">break</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">insert_point</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-meta_type" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">meta_type</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="meta_type-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 12</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">meta_type</span>
  <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">lines</span>[<span class="ruby-value">0</span>]
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^--- *$/</span>
    <span class="ruby-value">:yaml</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^ *[ \w]+: +\S+/</span>
    <span class="ruby-value">:mmd</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-value">:none</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-normalize_filter" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">normalize_filter</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="normalize_filter-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 5</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">normalize_filter</span>
  <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">match</span>(<span class="ruby-regexp">/(?&lt;filter&gt;[\w_]+)(?:\((?&lt;paren&gt;.*?)\))?$/i</span>)
  <span class="ruby-identifier">filter</span> = <span class="ruby-identifier">parts</span>[<span class="ruby-string">&quot;filter&quot;</span>].<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/_/</span>, <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-identifier">params</span> = <span class="ruby-identifier">parts</span>[<span class="ruby-string">&quot;paren&quot;</span>]&amp;.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">/ *, */</span>)
  [<span class="ruby-identifier">filter</span>, <span class="ruby-identifier">params</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-normalize_include_type" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">normalize_include_type</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="normalize_include_type-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">normalize_include_type</span>
  <span class="ruby-keyword">case</span> <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^c/</span>
    <span class="ruby-value">:code</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^r/</span>
    <span class="ruby-value">:raw</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-value">:file</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-normalize_position" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">normalize_position</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="normalize_position-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 14</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">normalize_position</span>
  <span class="ruby-keyword">case</span> <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^(be|s|t)/</span>
    <span class="ruby-value">:start</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/h1/</span>
    <span class="ruby-value">:h1</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-value">:end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-number-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">number?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Test if a string is a number</p>

<p>@return     [Boolean] test result</p>

          <div class="method-source-code" id="number-3F-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 99</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number?</span>
  <span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">positive?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-replace" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">replace</span><span
              class="method-args">(regex, pattern)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="replace-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 300</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">replace</span>(<span class="ruby-identifier">regex</span>, <span class="ruby-identifier">pattern</span>)
  <span class="ruby-identifier">sub</span>(<span class="ruby-identifier">regex</span>.<span class="ruby-identifier">to_rx</span>, <span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">to_pattern</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-replace_all" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">replace_all</span><span
              class="method-args">(regex, pattern)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="replace_all-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 296</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">replace_all</span>(<span class="ruby-identifier">regex</span>, <span class="ruby-identifier">pattern</span>)
  <span class="ruby-identifier">gsub</span>(<span class="ruby-identifier">regex</span>.<span class="ruby-identifier">to_rx</span>, <span class="ruby-identifier">pattern</span>.<span class="ruby-identifier">to_pattern</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-set_meta" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">set_meta</span><span
              class="method-args">(key, value, style: :comment)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="set_meta-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 220</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_meta</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>, <span class="ruby-value">style:</span> <span class="ruby-value">:comment</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">style</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:yaml</span>
    <span class="ruby-identifier">add_yaml</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-value">:mmd</span>
    <span class="ruby-identifier">add_mmd</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">else</span> <span class="ruby-comment"># comment or none</span>
    <span class="ruby-identifier">add_comment</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-strip_meta" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">strip_meta</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="strip_meta-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 286</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">strip_meta</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">meta_type</span>
  <span class="ruby-keyword">when</span> <span class="ruby-value">:yaml</span>
    <span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/^---.*?(---|...)/m</span>, <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-value">:mmd</span>
    <span class="ruby-identifier">lines</span> = <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/\n/</span>)
    <span class="ruby-identifier">lines</span>[<span class="ruby-identifier">meta_insert_point</span><span class="ruby-operator">..</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-strip_time" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">strip_time</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Remove time from string</p>

<p>@return     [String] string with time removed</p>

          <div class="method-source-code" id="strip_time-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 85</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">strip_time</span>
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&quot;utf-8&quot;</span>).<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/ \d{1,2}(:\d\d)? *([ap]m)?/i</span>, <span class="ruby-string">&quot;&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-time-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">time?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Test a string to see if it includes a time</p>

<p>@return     [Boolean] test result</p>

          <div class="method-source-code" id="time-3F-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 66</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">time?</span>
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&quot;utf-8&quot;</span>).<span class="ruby-identifier">match</span>(<span class="ruby-regexp">/ \d{1,2}(:\d\d)? *([ap]m)?/i</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-title_from_slug" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">title_from_slug</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="title_from_slug-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 178</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">title_from_slug</span>
  <span class="ruby-identifier">filename</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-constant">Conductor</span><span class="ruby-operator">::</span><span class="ruby-constant">Env</span>.<span class="ruby-identifier">env</span>[<span class="ruby-value">:filepath</span>]).<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/\.[a-z]+$/i</span>, <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-identifier">filename</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp">/-?\d{4}-\d{2}-\d{2}-?/</span>, <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-identifier">filename</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp">/\bdot\b/</span>, <span class="ruby-string">&quot;.&quot;</span>)
  <span class="ruby-identifier">filename</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp">/ dash /</span>, <span class="ruby-string">&quot;-&quot;</span>)
  <span class="ruby-identifier">filename</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-titleize" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">titleize</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Titlecase a string</p>

<p>@return     Titleized string</p>

          <div class="method-source-code" id="titleize-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 10</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">titleize</span>
  <span class="ruby-identifier">split</span>(<span class="ruby-regexp">/(\W)/</span>).<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:capitalize</span>).<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-to_bool" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">to_bool</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Returns a bool representation of the string.</p>

<p>@return     [Boolean] Bool representation of the object.</p>

          <div class="method-source-code" id="to_bool-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 145</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_bool</span>
  <span class="ruby-keyword">case</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&#39;utf-8&#39;</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^[yt]/i</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-to_bool-21" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">to_bool!</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Destructive version of <a href="String.html#method-i-to_bool"><code>to_bool</code></a></p>

<p>@see        <a href="String.html#method-i-to_bool"><code>to_bool</code></a></p>

          <div class="method-source-code" id="to_bool-21-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 136</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_bool!</span>
  <span class="ruby-identifier">replace</span> <span class="ruby-identifier">to_bool</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-to_date" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">to_date</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Convert a natural language string to a Date</p>

<pre class="ruby"><span class="ruby-identifier">object</span>
</pre>

<p>@return     [Date] Resulting Date object</p>

          <div class="method-source-code" id="to_date-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 76</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_date</span>
  <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&quot;utf-8&quot;</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-to_day" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">to_day</span><span
              class="method-args">(time = :end)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="to_day-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_day</span>(<span class="ruby-identifier">time</span> = <span class="ruby-value">:end</span>)
  <span class="ruby-identifier">t</span> = <span class="ruby-identifier">time</span> <span class="ruby-operator">==</span> <span class="ruby-value">:end</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;23:59&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;00:00&quot;</span>
  <span class="ruby-constant">Chronic</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-node">&quot;#{strip_time} #{t}&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-to_pattern" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">to_pattern</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="to_pattern-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 320</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_pattern</span>
  <span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\$(\d+)/</span>, <span class="ruby-string">&#39;\\\\\1&#39;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/(^[&quot;&#39;]|[&quot;&#39;]$)/</span>, <span class="ruby-string">&quot;&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-to_rx" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">to_rx</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="to_rx-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 309</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_rx</span>
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r{^/(.*?)/([im]+)?$}</span>
    <span class="ruby-identifier">m</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">last_match</span>
    <span class="ruby-identifier">regex</span> = <span class="ruby-identifier">m</span>[<span class="ruby-value">1</span>]
    <span class="ruby-identifier">flags</span> = <span class="ruby-identifier">m</span>[<span class="ruby-value">2</span>]
    <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">regex</span>, <span class="ruby-identifier">flags</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-keyword">self</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-wrap_style" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">wrap_style</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          

          <div class="method-source-code" id="wrap_style-source">
            <pre><span class="ruby-comment"># File lib/conductor/filter.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">wrap_style</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">match</span>(<span class="ruby-regexp">%r{&lt;style&gt;.*?&lt;/style&gt;}m</span>)
    <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-node">&quot;&lt;style&gt;#{self}&lt;/style&gt;&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-yaml-3F" class="method-detail ">
        <div class="method-header">
          <div class="method-heading">
            <span class="method-name">yaml?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
        </div>

        <div class="method-description">
          <p>Test if string starts with YAML</p>

<p>@return     [Boolean] test result</p>

          <div class="method-source-code" id="yaml-3F-source">
            <pre><span class="ruby-comment"># File lib/conductor/string.rb, line 117</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">yaml?</span>
  <span class="ruby-identifier">dup</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-string">&#39;utf-8&#39;</span>).<span class="ruby-identifier">match?</span>(<span class="ruby-regexp">/^---/m</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.7.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

